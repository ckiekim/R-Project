next_btn$clickElement()
txt_pw <- remDr$findElement(using="css selector", '.whsOnd.zHQkBf')
#txt_pw <- remDr$findElement(using="css selector", '.AxOyFc.snByac')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_pw$setElementAttribute("value", "kim11067")
next_btn$clickElement()
remDr$close()
remDr$open()
remDr$navigate("https://accounts.google.com/signin/v2/identifier?continue=https%3A%2F%2Fmail.google.com%2Fmail%2F&service=mail&sacu=1&rip=1&flowName=GlifWebSignIn&flowEntry=ServiceLogin")
txt_id <- remDr$findElement(using="css selector", '#identifierId')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_id$setElementAttribute("value", "ckiekim@gmail.com") # 아이디 입력
next_btn$clickElement()
txt_pw <- remDr$findElement(using="css selector", '.whsOnd.zHQkBf')
#txt_pw <- remDr$findElement(using="css selector", '.AxOyFc.snByac')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_pw$setElementAttribute("value", "kim11067")
next_btn$clickElement()
remDr$close()
remDr$open()
remDr$navigate("https://accounts.google.com/signin/v2/identifier?continue=https%3A%2F%2Fmail.google.com%2Fmail%2F&service=mail&sacu=1&rip=1&flowName=GlifWebSignIn&flowEntry=ServiceLogin")
txt_id <- remDr$findElement(using="css selector", '#identifierId')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_id$setElementAttribute("value", "ckiekim@gmail.com") # 아이디 입력
next_btn$clickElement()
txt_pw <- remDr$findElement(using="css selector", '.whsOnd.zHQkBf')
#txt_pw <- remDr$findElement(using="css selector", '.AxOyFc.snByac')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_pw$setElementAttribute("value", "kim11067") # *에 비밀번호 입력
next_btn$clickElement()
remDr$close()
remDr$open()
remDr$navigate("https://accounts.google.com/signin/v2/identifier?continue=https%3A%2F%2Fmail.google.com%2Fmail%2F&service=mail&sacu=1&rip=1&flowName=GlifWebSignIn&flowEntry=ServiceLogin")
txt_id <- remDr$findElement(using="css selector", '#identifierId')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_id$setElementAttribute("value", "ckiekim@gmail.com") # 아이디 입력
next_btn$clickElement()
txt_pw <- remDr$findElement(using="css selector", '.whsOnd.zHQkBf')
#txt_pw <- remDr$findElement(using="css selector", '.AxOyFc.snByac')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_pw$setElementAttribute("value", "kim11067") # *에 비밀번호 입력
remDr$close()
remDr$open()
remDr$navigate("https://accounts.google.com/signin/v2/identifier?continue=https%3A%2F%2Fmail.google.com%2Fmail%2F&service=mail&sacu=1&rip=1&flowName=GlifWebSignIn&flowEntry=ServiceLogin")
txt_id <- remDr$findElement(using="css selector", '#identifierId')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_id$setElementAttribute("value", "ckiekim@gmail.com") # 아이디 입력
next_btn$clickElement()
#remDr$navigate("https://accounts.google.com/signin/v2/sl/pwd?continue=https%3A%2F%2Fmail.google.com%2Fmail&passive=1209600&sacu=1&ignoreShadow=0&hl=ko&acui=0&flowName=GlifWebSignIn&flowEntry=AddSession&cid=1&navigationDirection=forward")
remDr$refresh()
txt_pw <- remDr$findElement(using="css selector", '.whsOnd.zHQkBf')
#txt_pw <- remDr$findElement(using="css selector", '.AxOyFc.snByac')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_pw$setElementAttribute("value", "kim11067") # *에 비밀번호 입력
next_btn$clickElement()
#remDr$navigate("https://accounts.google.com/signin/v2/sl/pwd?continue=https%3A%2F%2Fmail.google.com%2Fmail&passive=1209600&sacu=1&ignoreShadow=0&hl=ko&acui=0&flowName=GlifWebSignIn&flowEntry=AddSession&cid=1&navigationDirection=forward")
remDr$refresh()
txt_pw <- remDr$findElement(using="css selector", '.whsOnd.zHQkBf')
#txt_pw <- remDr$findElement(using="css selector", '.AxOyFc.snByac')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
remDr$navigate("https://accounts.google.com/signin/v2/identifier?continue=https%3A%2F%2Fmail.google.com%2Fmail%2F&service=mail&sacu=1&rip=1&flowName=GlifWebSignIn&flowEntry=ServiceLogin")
txt_id <- remDr$findElement(using="css selector", '#identifierId')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_id$setElementAttribute("value", "ckiekim@gmail.com") # 아이디 입력
next_btn$clickElement()
#remDr$navigate("https://accounts.google.com/signin/v2/sl/pwd?continue=https%3A%2F%2Fmail.google.com%2Fmail&passive=1209600&sacu=1&ignoreShadow=0&hl=ko&acui=0&flowName=GlifWebSignIn&flowEntry=AddSession&cid=1&navigationDirection=forward")
remDr$refresh()
remDr$navigate("https://accounts.google.com/signin/v2/sl/pwd?continue=https%3A%2F%2Fmail.google.com%2Fmail&passive=1209600&sacu=1&ignoreShadow=0&hl=ko&acui=0&flowName=GlifWebSignIn&flowEntry=AddSession&cid=1&navigationDirection=forward")
remDr$navigate("https://accounts.google.com/signin/v2/identifier?continue=https%3A%2F%2Fmail.google.com%2Fmail%2F&service=mail&sacu=1&rip=1&flowName=GlifWebSignIn&flowEntry=ServiceLogin")
txt_id <- remDr$findElement(using="css selector", '#identifierId')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_id$setElementAttribute("value", "ckiekim@gmail.com") # 아이디 입력
next_btn$clickElement()
remDr$navigate("https://accounts.google.com/signin/v2/sl/pwd?continue=https%3A%2F%2Fmail.google.com%2Fmail&passive=1209600&sacu=1&ignoreShadow=0&hl=ko&acui=0&flowName=GlifWebSignIn&flowEntry=AddSession&cid=1&navigationDirection=forward")
txt_id <- remDr$findElement(using="css selector", '#identifierId')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_id$setElementAttribute("value", "ckiekim@gmail.com") # 아이디 입력
next_btn$clickElement()
#remDr$navigate("https://accounts.google.com/signin/v2/sl/pwd?continue=https%3A%2F%2Fmail.google.com%2Fmail&passive=1209600&sacu=1&ignoreShadow=0&hl=ko&acui=0&flowName=GlifWebSignIn&flowEntry=AddSession&cid=1&navigationDirection=forward")
#remDr$refresh()
txt_pw <- remDr$findElement(using="css selector", '.whsOnd.zHQkBf')
#txt_pw <- remDr$findElement(using="css selector", '.AxOyFc.snByac')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_pw$setElementAttribute("value", "kim11067") # *에 비밀번호 입력
next_btn$clickElement()
remDr$close()
remDr<-remoteDriver(remoteServerAddr="localhost", port=4445L, browserName="chrome")
remDr$open()
remDr$navigate("https://nid.naver.com/nidlogin.login")
txt_id <- remDr$findElement(using="css selector", '#id')
txt_pw <- remDr$findElement(using="id", value="pw")
login_btn <- remDr$findElement(using="class", value="btn_global")
txt_id$setElementAttribute("value", "ckiekim") # 아이디 입력
txt_pw$setElementAttribute("value", "dongbu-4522") # *에 비밀번호 입력
login_btn$clickElement()
remDr$navigate("https://mail.naver.com/")
remDr$navigate("https://mail.naver.com/")
#페이지 소스 읽어오기
html <- remDr$getPageSource()[[1]]
html <- read_html(html)
html
html %>%
html_node('#list_for_view')
html %>%
html_node('#list_for_view') %>%
html_nodes('li')
html %>%
html_node('#list_for_view') %>%
html_nodes('li') -> lis
li %>%
html_node('div.name._ccr\(lst\.from\)') %>%
html_node('a') %>%
html_text()
li %>%
html_node('div.name._ccr(lst\.from)') %>%
html_node('a') %>%
html_text()
li %>%
html_node('div.name._ccr(lst.from)') %>%
html_node('a') %>%
html_text()
html %>%
html_node('#list_for_view') %>%
html_nodes('li') -> lis
for (li in lis) {
li %>%
html_node('div.name._ccr(lst.from)') %>%
html_node('a') %>%
html_text()
}
html %>%
html_node('#list_for_view') %>%
html_nodes('li') -> lis
for (li in lis) {
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text()
}
for (li in lis) {
li %>%
html_node('div.name._ccr(lst\.from)') %>%
html_node('a') %>%
html_text()
}
html %>%
html_node('#list_for_view') %>%
html_node('li') -> li
li
#html_nodes('li') -> lis
li %>%
html_node('div.name')
#html_nodes('li') -> lis
li %>%
html_node('div.name') %>%
html_node('a')
#html_nodes('li') -> lis
li %>%
html_node('div.name') %>%
html_text('a')
#html_nodes('li') -> lis
li %>%
html_node('div.name') %>%
html_node('a') %>% html_text()
html %>%
html_node('#list_for_view') %>%
html_nodes('li') -> lis
for (li in lis) {
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text()
}
li %>%
html_node('div.name')
html %>%
html_node('#list_for_view') %>%
html_nodes('li') -> lis
lis
li <- lis[1]
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text()
for (i in 1:20) {
lis[i] %>%
html_node('div.name') %>%
html_node('a') %>%
html_text()
}
for (i in 1:20) {
lis[i] %>%
html_node('div.name') %>%
html_node('a') %>%
html_text()
}
#페이지 소스 읽어오기
html <- remDr$getPageSource()[[1]]
html <- read_html(html)
html %>%
html_node('#list_for_view') %>%
html_nodes('li') -> lis
for (i in 1:20) {
lis[i] %>%
html_node('div.name') %>%
html_node('a') %>%
html_text()
}
li <- lis[1]
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text()
for (li in lis) {
print(li)
}
html %>%
html_node('#list_for_view') %>%
html_node('ol.mailList.sender_context') %>%
html_nodes('li') -> lis
for (li in lis) {
print(li)
}
for (li in lis) {
#print(li)
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text()
}
for (li in lis) {
print(li)
}
html %>%
html_node('#list_for_view') %>%
html_nodes('ol>li') -> lis
for (li in lis) {
print(li)
}
for (li in lis) {
#print(li)
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text()
}
sender <- c()
#print(li)
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text() -> tmp
for (li in lis) {
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text() -> tmp
sender <- c(sender, tmp)
li %>%
html_node('div.subject') %>%
html_node('a') %>%
html_node('strong') -> tmp
print(tmp)
}
mail_texts <- remDr$findElement(using="id", value="list_for_view")
for (li in lis) {
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text() -> tmp
sender <- c(sender, tmp)
li %>%
html_node('div.subject') %>%
html_node('a') %>%
html_node('strong') %>%
html_text() -> tmp
print(tmp)
}
for (li in lis) {
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text() -> tmp
sender <- c(sender, tmp)
li %>%
html_node('div.subject') %>%
html_node('a') %>%
html_node('strong') %>%
html_text() %>%
trim() -> tmp
print(tmp)
}
mail_texts <- remDr$findElement(using="id", value="list_for_view")
for (li in lis) {
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text() -> tmp
sender <- c(sender, tmp)
li %>%
html_node('div.subject') %>%
html_node('a') %>%
html_node('strong') %>%
html_text() %>%
trim() -> tmp
print(str_sub(tmp, 7, -1))
}
subject <- c()
time <- c()
for (li in lis) {
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text() -> tmp
sender <- c(sender, tmp)
li %>%
html_node('div.subject') %>%
html_node('a') %>%
html_node('strong') %>%
html_text() %>%
trim() -> tmp
subject <- c(subject, str_sub(tmp, 7, -1))
li %>%
html_node('iDate') %>%
html_text() -> tmp
print(tmp)
}
for (li in lis) {
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text() -> tmp
sender <- c(sender, tmp)
li %>%
html_node('div.subject') %>%
html_node('a') %>%
html_node('strong') %>%
html_text() %>%
trim() -> tmp
subject <- c(subject, str_sub(tmp, 7, -1))
li %>%
html_node('.iDate') %>%
html_text() -> tmp
print(tmp)
}
for (li in lis) {
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text() -> tmp
sender <- c(sender, tmp)
li %>%
html_node('div.subject') %>%
html_node('a') %>%
html_node('strong') %>%
html_text() %>%
trim() -> tmp
subject <- c(subject, str_sub(tmp, 7, -1))
li %>%
html_node('.iDate') %>%
html_text() -> tmp
time <- c(time, str_sub(tmp, 6, -1))
}
df_mail <- data.frame(sender=sender, subject=subject, time=time)
sender <- c()
subject <- c()
time <- c()
for (li in lis) {
li %>%
html_node('div.name') %>%
html_node('a') %>%
html_text() -> tmp
sender <- c(sender, tmp)
li %>%
html_node('div.subject') %>%
html_node('a') %>%
html_node('strong') %>%
html_text() %>%
trim() -> tmp
subject <- c(subject, str_sub(tmp, 7, -1))
li %>%
html_node('.iDate') %>%
html_text() -> tmp
time <- c(time, str_sub(tmp, 6, -1))
}
df_mail <- data.frame(sender=sender, subject=subject, time=time)
df_mail
remDr$close()
# Google에 로그인한 후 gmail 가져오기
library(RSelenium)
library(rvest)
library(dplyr)
library(stringr)
trim <- function(x) gsub("^\\s+|\\s+$", "", x)
remDr<-remoteDriver(remoteServerAddr="localhost", port=4445L, browserName="chrome")
remDr$open()
remDr$navigate("https://accounts.google.com/signin/v2/identifier?continue=https%3A%2F%2Fmail.google.com%2Fmail%2F&service=mail&sacu=1&rip=1&flowName=GlifWebSignIn&flowEntry=ServiceLogin")
txt_id <- remDr$findElement(using="css selector", '#identifierId')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_id$setElementAttribute("value", "ckiekim@gmail.com")     # 아이디 입력
next_btn$clickElement()
txt_pw <- remDr$findElement(using="css selector", '.whsOnd.zHQkBf')
next_btn <- remDr$findElement(using="css selector", '.RveJvd.snByac')
txt_pw$sendKeysToElement(list("kim11067"))
next_btn$clickElement()
html <- remDr$getPageSource()[[1]]
html <- read_html(html)
html %>%
html_node('table.F.cf.zt') %>%
html_nodes('tbody>tr') -> trs
sender <- c()
subject <- c()
time <- c()
for (tr in trs) {
tr %>%
html_node('td.yX.xY') %>%
html_node('div') %>%
html_nodes('span') -> spans
len <- length(spans)
sender <- c(sender, html_text(spans[1]))       # Sender
subject <- c(subject, html_text(spans[len-1]))     # Subject
time <- c(time, html_text(spans[len]))           # Time
}
df_mail <- data.frame(sender=sender, subject=subject, time=time)
df_mail
remDr$close()
states.cor <- cor(states[2:5])
# 다중회귀분석
state.x77
states <- as.data.frame(state.x77[,c("Murder","Population",
"Illiteracy","Income","Frost")])
fit <- lm(Murder ~ Population+Illiteracy+Income+Frost, data=states)
summary(fit)
par(mfrow=c(2,2))
plot(fit)
par(mfrow=c(1,1))
states.cor <- cor(states[2:5])
states.cor
# VIF 계산
summary(vif(fit))
library(car)
install.packages('car')
# VIF 계산
library(car)
summary(vif(fit))
summary(vif(fit))
fit1 <- lm(Murder ~ ., data=states)
vif(fit)
# Condition Number
eigen.val <- eigen(states.cor)$values
eigen.val
sqrt(max(eigen.val)/eigen.val)
library(rJava)
library(KoNLP)
library(stringr)
library(dplyr)
library(wordcloud)
library(ggplot2)
library(extrafont)
windowsFonts(myfont = "맑은 고딕")
theme_update(text=element_text(family="myfont"))
useSejongDic()
trim <- function (x) gsub("^\\s+|\\s+$", "", x)
lines <- readLines("reply1.csv", stringsAsFactors = F)
library(xlxs)
setwd("D:/Workspace/R_Project/01_Crawling")
aladdin <- read.xlsx("aladdin.xlsx", 1, encoding="UTF-8")
# 영화 알라딘 네티즌 평점/리뷰 분석하기
# 데이터 읽기
library(xlxs)
install.packages('xlxs')
# 영화 알라딘 네티즌 평점/리뷰 분석하기
# 데이터 읽기
library(xlsx)
setwd("D:/Workspace/R_Project/01_Crawling")
aladdin <- read.xlsx("aladdin.xlsx", 1, encoding="UTF-8")
reply <- aladdin$review
write.table(reply, "reply2.txt", row.names = F)
lines <- readLines("reply2.txt", stringsAsFactors = F)
lines <- read.csv("reply1.csv", stringsAsFactors = F)
str(lines)
raw_words <- sapply(lines, extractNoun, USE.NAMES = F)
head(raw_words)
raw_words
str(lines)
lines <- read.csv("reply1.csv")
raw_words <- sapply(lines, extractNoun, USE.NAMES = F)
lines <- read.csv("reply1.csv")
raw_words <- sapply(lines, extractNoun, USE.NAMES = F)
head(raw_words)
head(lines)
lines <- read.csv("reply1.csv", stringsAsFactors = F)
rw1 <- lines[1:1000]
rw1 <- lines[1:1000,]
raw_words <- sapply(lines[1:1000,], extractNoun, USE.NAMES = F)
words <- unlist(raw_words)
head(words)
str(lines)
lines <- read.csv("reply1.csv")
str(lines)
lines2 <- as.character(lines$x)
str(lines2)
raw_words <- sapply(lines[1:1000,], extractNoun, USE.NAMES = F)
lines <- read.csv("reply1.csv", stringsAsFactors = F)
raw_words <- sapply(lines[1:1000,], extractNoun, USE.NAMES = F)
lines <- read.csv("reply1.csv")
lines2 <- as.character(lines$x)
raw_words <- sapply(lines2[1:1000,], extractNoun, USE.NAMES = F)
raw_words <- sapply(lines2[1:1000], extractNoun, USE.NAMES = F)
head(lines2, 1000)
lines2 <- head(lines2, 1000)
raw_words <- sapply(lines2, extractNoun, USE.NAMES = F)
